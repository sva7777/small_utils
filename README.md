# comparecsvwireshark  
Утилита проверяет правильность симмметричные IP+IP или 5 Tuple(IPsrc+IPdst+Port src, Port dst, Prototype) балансировки.  

При запуске утилиты нужно указать тип балансировки проверки (ToDo- сделать параметром. Issue уже создана)  
Предполагается что данные (pcap) из одного порта балансируется на несколько портов (можно и из одного порта в другой, но смысла в этом нет), есть записанные выходные pcap.  
Данные из имеющихся pcap нужно перевести в JSON отчеты Wireshark (нужно будет автоматизировать)  
Получить отчеты можно “Статистика->Диалоги”.  
Для IP+IP симметричной балансировки нужно определить, проводим проверку IPv4 или IPv6 и в дальнейшем использовать этот выбор для всех pcap файлов в рамках проверки.  
Т.е. нужно провести отдельно проверку IPv4 и IPv6.  
Выбрать закладку IPv4 или IPv6. Затем “Копировать”, в всплывающем меню выбрать JSON.  
Отчет окажется в буфере обмена.  
Отчет в виде файла с расширением json (имя файла не имеет значения) для исходного pcap поместить каталог ./Original  
Отчет/ы в виде файла с расширением json (имя файла не имеет значения) для выходных pcap поместить в каталог ./Balanced  

Для получения отчетов балансировки по 5 Tuple в Wireshark использовать закладки TCP или UDP.  
На текущий момент TCP и UDP проверяются отдельно  

Если все ОК, то вывод будет отсутствовать.  
ToDo: расписать формат выходных данных при ошибке.  

*Ограничения*  
На текущий момент не предполагается работа с туннелями (такими как GRE, GTP, VxLan). Т.е. данные берутся из первого IP заголовка. При получении отчетов, нужно отключить любые туннели. ToDo- добавить пример Configuration Profiles.  
Не проверяется балансировка не IP пакетов. На текущий момент не вижу, как сделать это через отчеты Wireshark. Это точно можно сделать при по пакетном сравнении pcap.  

# tsharkbalancing  
Программа проверяется корректность симметричной балансировки IP + IP и 5 Tuple (IPsrc+IPdst+Port src, Port dst, Prototype)  
Предполагается что данные (pcap) из одного порта балансируется на несколько портов (можно и из одного порта в другой, но смысла в этом нет), есть записанные выходные pcap.  

*ограничения*  
На текущий момент не предполагается работа с туннелями (такими как GRE, GTP, VxLan). Т.е. данные берутся из первого IP заголовка.  

*предусловия*  
Должен быть установлен пакет tshark. ToDo: расписать как установить?  
В Wireshark должен быть существовать Configuration Profile с именем NoTunnels. В данном Profile должны быть отключены туннели.  

*входные данные*  
Исходный pcap поместить в каталог ./Original  
Pcap записанные после балансировки поместить в каталог ./Balanced  

*выходные данные*
Программа проверяется сразу симметричные IP+IP, 5 Tuple балансировки.  
Для целей отладки (и работы программы) отчеты tshark создаются в каталоге ./Temp_dir  
